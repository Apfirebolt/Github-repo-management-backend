{% extends 'layout.html' %}
{% load widget_tweaks %}
{% load static %}
{% block title %}Django Github - Friends and Following{% endblock %}
{% block custom_styles %}
    <link rel="stylesheet" href={% static 'accounts/css/styles.css' %}>
    <script src={% static 'js/jquery.js' %}></script>
    <script src={% static 'js/social.js' %}></script>
{% endblock %}

{% block content %}
    <div id="social_container">
        <p class="section_title">{{ request.user.username }}, You are following these people!</p>
        <div class="follow_container">
           {% for each_user in follow_users %}
            <div class="follow_item">
                <h3>{{ each_user.following.username }}</h3>
                <div class="follow_image">
                    <img alt="Image not available" src={{ each_user.following.profile_image.url}} />
                </div>

                <p class="description">
                    {% if each_user.following.about_me %}
                        {{ each_user.following.about_me }}
                    {% else %}
                        No description available
                    {% endif %}
                </p>
            </div>
            {% endfor %}
        </div>

        <p class="section_title">{{ request.user.username }}, You have pending friend requests from following these people!</p>
        <div class="friend_container">
           {% for each_user in friend_users %}
            <div class="follow_item">
                <h3>{{ each_user.user_from.username }}</h3>
                <div class="follow_image">
                    <img alt="Image not available" src={{ each_user.user_from.profile_image.url }} />
                </div>

                <p class="description">
                    {% if each_user.following.about_me %}
                        {{ each_user.following.about_me }}
                    {% else %}
                        No description available
                    {% endif %}
                </p>
                <div class="button_container">
                    <button class="button is-success accept_request" data-store-id={{ each_user.user_from.id }}>Accept Request</button>
                    <button class="button is-danger cancel_request" data-store-id={{ each_user.user_from.id }}>Cancel Request</button>
                </div>
            </div>
            {% endfor %}
        </div>

    </div>
{% endblock %}